<!DOCTYPE html>
<html>
    <head>
        <title>Edit Decision List Demo</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
		<script src="http://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script>
    </head>
    <body>
        <div class="container">
            <br>
            <div class="row fileupload-buttonbar">
                <span class="btn btn-success fileinput-button">
                    <i class="glyphicon glyphicon-plus"></i>
                    <span> Open Media File</span>
                    <input id="input" type="file">
                </span>
            </div>
            <hr class="soften"/>
			<div id="player" class="row" style="height:480px"></div>
            <hr class="soften"/>
            <div class="row">
                <button class="btn btn-primary" onClick="backward()">
                    <span class="glyphicon glyphicon-backward"></span>
                </button>
                <button class="btn btn-danger" onClick="togglePlay()">
                    <span class="glyphicon glyphicon-pause"></span>
                </button>
                <button class="btn btn-primary" onclick="forward()">
                    <span class="glyphicon glyphicon-forward"></span>
                </button>
                <button class="btn btn-warning" onClick="markIn()">
                    <span class="glyphicon glyphicon-hand-up"></span>
                    <span> Tag In</span>
                </button>
                <button class="btn btn-info" onClick="markOut()">
                    <span class="glyphicon glyphicon-hand-down"></span>
                    <span> Tag Out</span>
                </button>
            </div>
        </div>
		<script>
			var wjs = require("wcjs-player");
			var player = new wjs("#player").addPlayer({autoplay:true});
			player.onPlaying(function() { 
				console.log("playing"); 
			});
			player.onPaused(function() { 
				console.log("paused"); 
			});
				
			$('#input').on ('change', function (e) {
				console.log (e.target.value);
				player.clearPlaylist();
				player.addPlaylist("file://" + e.target.value);	
				player.play();
			});

            function backward () {
                player.rate (0.5 * player.rate());
            }

            function forward () {
                player.rate (2.0 * player.rate());
            }

            function togglePlay () {
                if (player.playing()) {
                    player.pause();
                    wjsButton = $(".glyphicon-pause");
                    if (wjsButton.length != 0) wjsButton.removeClass("glyphicon-pause").addClass("glyphicon-play");
                } else {
                    player.rate (1.0);
                    player.play();
                    wjsButton = $(".glyphicon-play");
                    if (wjsButton.length != 0) wjsButton.removeClass("glyphicon-play").addClass("glyphicon-pause");
                }
            }
		</script>
   </body>
</html>
